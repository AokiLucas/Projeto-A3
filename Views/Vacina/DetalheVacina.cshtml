@model RegistroVacina

@{
    ViewData["Title"] = "Detalhes da Vacina";
}

<h2 class="mb-4">Editar Vacina - @ViewBag.NomePet</h2>

<form asp-action="AtualizarVacina" asp-controller="Vacina" method="post">
    <input type="hidden" name="Id" value="@Model.Id" />

    <div class="mb-3">
        <label class="form-label">Nome da Vacina</label>
        <input type="text" class="form-control" name="NomeVacina" value="@Model.NomeVacina" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Data de Aplicação</label>
        <input type="date" class="form-control" name="DataAplicacao" value="@Model.DataAplicacao.ToString("yyyy-MM-dd")" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Validade</label>
        <input type="date" class="form-control" name="ValidadeImunizante" value="@Model.ValidadeImunizante.ToString("yyyy-MM-dd")" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Lote Vacinal</label>
        <input type="text" class="form-control" name="LoteVacinal" value="@Model.LoteVacinal" />
    </div>

    <div class="mb-3">
        <label class="form-label">Veterinário</label>
        <input type="text" class="form-control" name="Veterinario" value="@Model.Veterinario" />
    </div>

    <button type="submit" class="btn btn-primary me-2">Salvar Alterações</button>

    <!-- Botão que abre o modal -->
    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal">
        Deletar Vacina
    </button>
</form>

<!-- Modal de confirmação -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header text-white">
                <h5 class="modal-title" id="confirmDeleteLabel">Confirmar Exclusão</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body">
                Tem certeza que deseja deletar essa vacina? Essa ação não pode ser desfeita.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>

                <form asp-action="DeletarVacina" asp-controller="Vacina" method="post" class="d-inline">
                    <input type="hidden" name="Id" value="@Model.Id" />
                    <button type="submit" class="btn btn-danger">Deletar</button>
                </form>
            </div>
        </div>
    </div>
</div>
